=begin
The four adjacent digits in the 1000-digit number that have the greatest 
product are 9 × 9 × 8 × 9 = 5832.
Find the greatest product of thirteen consecutive digits in the 100-digit 
number.
731671765313362491922511967442657474235534919493496983523127745632623957831816984818694788518438586156789112949495459517379583319528532885511125469874715852386357156932996329522744343557668966489544524452316173185643987111217223831136222989342338381353362766142828644448664523874933589729629491564477239713815158593796866717242712188399879798792274921916997288893776657273330153367881222354218975125454594752243525849771167556136483958644676324415722155397536978179778461746495514929862569321978468622482839722413756575657492614797296865241453510474821663748443199890889524345658541227588666881164271714799244429282386346567481391912316282458617866458359124566529476545682848912883142676904224219226715562632111119375442175694165896487198438596245544436298123987879927244284991888458156166979191338754992052463689912567176658861164671945775410225698315520559357297257163626956188267428252483608232575342752963450
=end

require "set"

def prod_in_series(consec, series)
  series_arr = series.to_s.split("").map { |x| x.to_i }
  max_prod = 0
  first = 0
  last = consec - 1
  
  while last < series_arr.length
    prod = series_arr[first..last].inject(1) { |prod, x| prod *= x }
    max_prod = prod if prod > max_prod
    first += 1
    last += 1
  end
  
  max_prod
end


